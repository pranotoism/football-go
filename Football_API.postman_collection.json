{
	"info": {
		"name": "Football Team Management API",
		"description": "REST API for managing amateur football teams - AYO Indonesia Technical Test",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080/api/v1"
		},
		{
			"key": "token",
			"value": ""
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register",
					"request": {
						"auth": { "type": "noauth" },
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Admin\",\n\t\"email\": \"admin@xyz.com\",\n\t\"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						}
					}
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var json = pm.response.json();",
									"if (json.data && json.data.token) {",
									"    pm.collectionVariables.set('token', json.data.token);",
									"    console.log('Token saved!');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": { "type": "noauth" },
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"email\": \"admin@xyz.com\",\n\t\"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						}
					}
				}
			]
		},
		{
			"name": "Teams",
			"item": [
				{
					"name": "Create Team",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Persib Bandung\",\n\t\"logo_url\": \"https://example.com/persib.png\",\n\t\"founded_year\": 1933,\n\t\"hq_address\": \"Jl. Sulanjana No. 17\",\n\t\"hq_city\": \"Bandung\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/teams",
							"host": ["{{base_url}}"],
							"path": ["teams"]
						}
					}
				},
				{
					"name": "List Teams",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/teams?page=1&per_page=10",
							"host": ["{{base_url}}"],
							"path": ["teams"],
							"query": [
								{ "key": "page", "value": "1" },
								{ "key": "per_page", "value": "10" }
							]
						}
					}
				},
				{
					"name": "Get Team by ID",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/teams/1",
							"host": ["{{base_url}}"],
							"path": ["teams", "1"]
						}
					}
				},
				{
					"name": "Update Team",
					"request": {
						"method": "PUT",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Persib Bandung FC\",\n\t\"logo_url\": \"https://example.com/persib-new.png\",\n\t\"founded_year\": 1933,\n\t\"hq_address\": \"Jl. Sulanjana No. 17 Updated\",\n\t\"hq_city\": \"Kota Bandung\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/teams/1",
							"host": ["{{base_url}}"],
							"path": ["teams", "1"]
						}
					}
				},
				{
					"name": "Delete Team",
					"request": {
						"method": "DELETE",
						"url": {
							"raw": "{{base_url}}/teams/1",
							"host": ["{{base_url}}"],
							"path": ["teams", "1"]
						}
					}
				}
			]
		},
		{
			"name": "Players",
			"item": [
				{
					"name": "Create Player",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Ciro Alves\",\n\t\"height_cm\": 186,\n\t\"weight_kg\": 80,\n\t\"position\": \"penyerang\",\n\t\"jersey_number\": 9\n}"
						},
						"url": {
							"raw": "{{base_url}}/teams/1/players",
							"host": ["{{base_url}}"],
							"path": ["teams", "1", "players"]
						},
						"description": "Posisi: penyerang, gelandang, bertahan, penjaga_gawang"
					}
				},
				{
					"name": "List Players by Team",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/teams/1/players?page=1&per_page=10",
							"host": ["{{base_url}}"],
							"path": ["teams", "1", "players"],
							"query": [
								{ "key": "page", "value": "1" },
								{ "key": "per_page", "value": "10" }
							]
						}
					}
				},
				{
					"name": "Get Player by ID",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/players/1",
							"host": ["{{base_url}}"],
							"path": ["players", "1"]
						}
					}
				},
				{
					"name": "Update Player",
					"request": {
						"method": "PUT",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Ciro Alves Jr\",\n\t\"jersey_number\": 11\n}"
						},
						"url": {
							"raw": "{{base_url}}/players/1",
							"host": ["{{base_url}}"],
							"path": ["players", "1"]
						}
					}
				},
				{
					"name": "Delete Player",
					"request": {
						"method": "DELETE",
						"url": {
							"raw": "{{base_url}}/players/1",
							"host": ["{{base_url}}"],
							"path": ["players", "1"]
						}
					}
				}
			]
		},
		{
			"name": "Matches",
			"item": [
				{
					"name": "Create Match",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"match_date\": \"2026-03-15\",\n\t\"match_time\": \"19:00:00\",\n\t\"home_team_id\": 1,\n\t\"away_team_id\": 2\n}"
						},
						"url": {
							"raw": "{{base_url}}/matches",
							"host": ["{{base_url}}"],
							"path": ["matches"]
						}
					}
				},
				{
					"name": "List Matches",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/matches?page=1&per_page=10",
							"host": ["{{base_url}}"],
							"path": ["matches"],
							"query": [
								{ "key": "page", "value": "1" },
								{ "key": "per_page", "value": "10" }
							]
						}
					}
				},
				{
					"name": "Get Match by ID",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/matches/1",
							"host": ["{{base_url}}"],
							"path": ["matches", "1"]
						}
					}
				},
				{
					"name": "Update Match",
					"request": {
						"method": "PUT",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"match_date\": \"2026-03-20\",\n\t\"match_time\": \"20:00:00\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/matches/1",
							"host": ["{{base_url}}"],
							"path": ["matches", "1"]
						}
					}
				},
				{
					"name": "Delete Match",
					"request": {
						"method": "DELETE",
						"url": {
							"raw": "{{base_url}}/matches/1",
							"host": ["{{base_url}}"],
							"path": ["matches", "1"]
						}
					}
				},
				{
					"name": "Report Match Result",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"home_score\": 2,\n\t\"away_score\": 1,\n\t\"goals\": [\n\t\t{\"player_id\": 1, \"team_id\": 1, \"minute\": 23},\n\t\t{\"player_id\": 3, \"team_id\": 2, \"minute\": 45},\n\t\t{\"player_id\": 1, \"team_id\": 1, \"minute\": 67}\n\t]\n}"
						},
						"url": {
							"raw": "{{base_url}}/matches/1/result",
							"host": ["{{base_url}}"],
							"path": ["matches", "1", "result"]
						},
						"description": "Jumlah gol per tim harus sesuai dengan skor. player_id harus milik salah satu tim."
					}
				}
			]
		},
		{
			"name": "Reports",
			"item": [
				{
					"name": "Get Match Report",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/matches/1/report",
							"host": ["{{base_url}}"],
							"path": ["matches", "1", "report"]
						},
						"description": "Returns: score, status (Home Win/Away Win/Draw), top scorer, cumulative wins"
					}
				},
				{
					"name": "Get All Match Reports",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/reports/matches?page=1&per_page=10",
							"host": ["{{base_url}}"],
							"path": ["reports", "matches"],
							"query": [
								{ "key": "page", "value": "1" },
								{ "key": "per_page", "value": "10" }
							]
						}
					}
				}
			]
		}
	]
}
